---
name: file-hosting-master-skill
description: "Master of file hosting and distribution. Guides users to configure their own Cloudflare R2, GitHub, or other object storage. Provides one-click upload and link generation for any file type (images, audio, video, documents)."
version: 1.0.0
allowed-tools: ["run_command", "view_file"]
user-invocable: true
---

# â˜ï¸ File Hosting Master (å…¨èƒ½äº‘å­˜å‚¨åˆ†å‘å¤§å¸ˆ)

æœ¬æŠ€èƒ½è´Ÿè´£æŒ‡å¯¼ç”¨æˆ·é…ç½®è‡ªå·±çš„äº‘ç«¯å­˜å‚¨ï¼ˆå¦‚ Cloudflare R2 æˆ– GitHub å›¾åºŠï¼‰ï¼Œå¹¶åœ¨é…ç½®æˆåŠŸåå®ç°è·¨åŸŸã€å¤šæ¨¡æ€èµ„äº§ï¼ˆä¸ä»…é™äºå›¾ç‰‡ï¼Œè¿˜åŒ…æ‹¬éŸ³è§†é¢‘ã€æ–‡æ¡£ç­‰ï¼‰çš„è‡ªåŠ¨ä¸Šä¼ ä¸ä¸€é”®åˆ†å‘ã€‚

## ğŸ¯ æ ¸å¿ƒç›®æ ‡

- **å¼•å¯¼é…ç½®**: å¸®åŠ©ç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„èµ„æºï¼ˆå¦‚ R2 Worker æˆ– GitHub Repoï¼‰æ­å»ºå®Œå…¨å±äºè‡ªå·±çš„å…¬ç½‘ç›´é“¾å­˜å‚¨ã€‚
- **ç±»å‹ä¸é™**: çªç ´â€œå›¾åºŠâ€æ¦‚å¿µï¼Œæ”¯æŒ `.png`, `.jpg`, `.mp4`, `.mp3`, `.pdf`, `.zip` ç­‰ä»»æ„æ–‡ä»¶çš„æé€Ÿä¸Šä¼ è®¡ç®—ã€‚
- **å…¨è‡ªåŠ¨åˆ†å‘**: é…ç½®å®Œæˆåï¼Œé‡åˆ°ä¸Šä¼ æŒ‡ä»¤ï¼Œä¸å†è®©ç”¨æˆ·æ‰‹å·¥ cURLï¼Œè€Œæ˜¯ Agent é™é»˜æ¥ç®¡ï¼Œç›´æ¥è¿”å›æé€Ÿç›´é“¾ã€‚

## ğŸ“š å¼•å¯¼é…ç½®æŒ‡å— (Setup Guide)

å¦‚æœç”¨æˆ·å°šæœªé…ç½®è‡ªå·±çš„å­˜å‚¨å‡­è¯ï¼ŒAgent åº”è¯¥è€å¿ƒå¼•å¯¼ç”¨æˆ·å®Œæˆä»¥ä¸‹ä»»ä¸€æµæ´¾çš„é…ç½®ã€‚

### æ–¹æ¡ˆ A: æé€Ÿåˆ†å‘æµæ´¾ (Cloudflare R2 + Worker ä»£ç†) [æ¨è]

**ç‰¹æ€§**: é€‚åˆéœ€è¦æå¿« CDN é€Ÿåº¦çš„å¤§ä½“ç§¯ç´ æï¼ˆå¦‚è§†é¢‘éŸ³é¢‘ï¼‰ï¼Œå…å— GitHub æ–‡ä»¶é™åˆ¶ã€‚
**å¼•å¯¼æ­¥éª¤**:

1. è¯·ç”¨æˆ·ç™»å½• Cloudflare é¢æ¿ï¼Œåˆ›å»ºä¸€ä¸ª R2 å­˜å‚¨æ¡¶ (Bucket) å‘½åä¸º `assets-hub` (æˆ–å…¶ä»–)ã€‚
2. å¸®ç”¨æˆ·å†™ä¸€æ®µä¸Šä¼  Worker ä»£ç ï¼ˆåˆ©ç”¨ Hono æˆ–åŸç”Ÿ Requestï¼‰ï¼Œç»‘å®šåˆ°è¯¥ Bucket å¹¶åœ¨ Worker ä¸­è®¾ä¸€ä¸ªè‡ªå®šä¹‰ token ä½œä¸ºå®‰å…¨æ ¡éªŒã€‚
3. è¯·ç”¨æˆ·éƒ¨ç½² Workerï¼Œå¹¶åˆ†é…è‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ `https://r2-upload-proxy.xxx.workers.dev/`ï¼‰ã€‚
4. Agent å°†è¯¥ URL å’Œ Token å­˜å‚¨åˆ°æœ¬åœ°éšç§é…ç½® `~/Documents/AI_Common/docs/secrets/r2_hosting.env`ã€‚

### æ–¹æ¡ˆ B: é™æ€å½’æ¡£æµæ´¾ (GitHub Repo + jsDelivr/Raw)

**ç‰¹æ€§**: é€‚åˆæ— éœ€ç§’å¼€çš„é¡¹ç›® Logoã€æŠ€æœ¯æ–‡æ¡£é…å›¾ã€è¿½æ±‚é•¿ä¹…å¯¿å‘½ä¸”ä¸æ€ä¹ˆä¿®æ”¹çš„å°ä½“ç§¯é™æ€èµ„äº§ã€‚
**å¼•å¯¼æ­¥éª¤**:

1. è¯·ç”¨æˆ·åœ¨ GitHub åˆ›å»ºä¸€ä¸ªå…¬å¼€ä»“åº“ï¼ˆå¦‚ `assets-hosting`ï¼‰ã€‚
2. è®©ç”¨æˆ·å» GitHub Developer Settings ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰ `repo` æƒé™çš„ Personal Access Token (Classic æˆ– Fine-grained å‡å¯)ã€‚
3. Agent æ”¶é›†ä¿¡æ¯ï¼šä»“åº“è·¯å¾„ï¼ˆå¦‚ `webkubor/assets-hosting`ï¼‰å’Œ Tokenï¼Œå­˜å…¥ `~/Documents/AI_Common/docs/secrets/github_hosting.env`ã€‚

---

## ğŸš€ è‡ªåŠ¨ä¸Šä¼ æ‰§è¡Œ SOP (Upload SOP)

ä¸€æ—¦é…ç½®å®Œæˆå¹¶æ”¶åˆ°ç”¨æˆ·çš„ä¸Šä¼ æŒ‡ä»¤ï¼Œéœ€æ‰§è¡Œä»¥ä¸‹å®Œå…¨é™é»˜æµç¨‹ï¼š

1. **ç¡®å®šç›®æ ‡æ–‡ä»¶**: ç¡®è®¤éœ€è¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶å…¨è·¯å¾„åŠåç¼€ã€‚
2. **é€‰æ‹©è·¯çº¿**:
   - è‹¥ä¼˜å…ˆè¯»å–åˆ° R2 é…ç½® (`r2_hosting.env`)ï¼šä½¿ç”¨ `curl -X POST -F "file=@/path/to/file.png" -H "Authorization: Bearer <TOKEN>" https://r2-xxx/` å°†æ–‡ä»¶ POST ä¸Šå»ã€‚
   - è‹¥ä¼˜å…ˆè¯»å–åˆ° GitHub é…ç½® (`github_hosting.env`)ï¼šä½¿ç”¨ GitHub REST API PUT æ–¹æ³•å†™å…¥å¯¹åº”ä»“åº“çš„ç‰¹å®šå¹´æœˆè·¯å¾„ (å¦‚ `/2026/02/file.png`)ã€‚
3. **è¿”å›æœ€ç»ˆç›´è¾¾é“¾æ¥**: ä¸è¦åªè¯´â€œä¸Šä¼ å®Œæ¯•â€ï¼Œ**å¿…é¡»è¿”å›æœ€ç»ˆå¯ç›´æ¥è®¿é—®/æ¸²æŸ“çš„ HTTPS CDN åœ¨çº¿é“¾æ¥**ã€‚
    - *å¯¹äº R2*: `https://ç”¨æˆ·è®¾ç½®çš„åˆ†å‘åŸŸå/æ–‡ä»¶å`
    - *å¯¹äº GitHub*: `https://raw.githubusercontent.com/webkubor/assets-hosting/main/æ–‡ä»¶å`

## âŒ¨ï¸ å¿«æ·æŒ‡ä»¤

- `/hosting setup`: è¿›å…¥å‘å¯¼æ¨¡å¼ï¼Œæ‰‹æŠŠæ‰‹æ•™è€çˆ¹æ­å»ºå…¨æ–°äº‘å­˜å‚¨ã€‚
- `/hosting upload <file_path>`: å°†æœ¬åœ°èµ„äº§é™é»˜æ¨é€åˆ°äº‘ç«¯ã€‚
- `/hosting link`: æŸ¥çœ‹å½“å‰äº‘å­˜å‚¨çš„ç›´é“¾å‰ç¼€å’Œé…ç½®çŠ¶æ€ã€‚
